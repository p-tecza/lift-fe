<div class="wrapper" xmlns="http://www.w3.org/1999/html">
  <p class="small-head">Select files to upload.</p>
  <input type="file" class="file-input" multiple
         [accept]="requiredFileType"
         (change)="onFileSelected($event)"
         [hidden]="true"
         #fileUpload>

  <div class="file-attach-files">
    @if (fileNames.length > 0) {
      <ol>
        @for (fileName of fileNames; track fileName) {
          <li>{{ fileName }}</li>
        }
      </ol>
    } @else {
      {{ "No file uploaded yet." }}
    }
  </div>

  <div class='file-attach'>
    <button class="attach-btn"
            (click)="fileUpload.click()">
      Attach<br>
      <mat-icon>attach_file</mat-icon>
    </button>
    @if (files.length > 0) {
      <button class="attach-btn-ml2"
              (click)="upload()">
        Upload<br>
        <mat-icon>upload</mat-icon>
      </button>
      <button class="attach-btn-ml2"
              (click)="clearFiles()">
        Clear<br>
        <mat-icon>delete</mat-icon>
      </button>
    }

  </div>

  @if(this.uploadProgress != undefined){
    <div class="progress">
      <p>Upload progress: {{ this.uploadProgress }}</p>
    </div>
  }
</div>
